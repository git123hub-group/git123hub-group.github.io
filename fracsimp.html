<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>分数化简</title>
<style>
.frac { display:inline-table;vertical-align:middle;border-collapse:collapse; }
.frac>* { display:table-row; }
.frac>*:first-child { border-bottom:thin solid; }
.frac input, #p1 { text-align: center; width: 150px; margin: 4px }
</style>
</head>
<body>
<div style="text-align: center">
<h1>分数化简</h1>
请输入分数:
<span class="frac">
<span><input type="text" id="p1" /></span>
<span><input type="text" id="p2" /></span>
</span>
<input type="button" onclick="convfrac()" value="化简" />
<script>
// <![CDATA[
function $(id) { // 不是 jQuery
	return document.getElementById(id);
}
function gcd (x, y) { // 这个“GCD”不是“共产党”，而是“最大公因数”
	y !== y && (y = 0);
	var tmp;
	while (y !== 0) { // GCD(m, n) = GCD(n, m modulo n)
		tmp = x % y;
		x = y;
		y = tmp;
	}
	return x;
}
function convfrac () {
	var a = $("p1"), b = $("p2");
	var av = +a.value, bv = +b.value;
	if (bv === 0) return alert("分母为零错误");
	if (av === 0) return a.value = 0, b.value = 1;
	var c = gcd(av, bv);
	if (c * c === 1) return alert("已经是最简分数")
	c = (c < 0 ? -c : c) * (bv < 0 ? -1 : 1);
	a.value = av / c, b.value = bv / c;
}
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"32"},"slide":{"type":"slide","bdImg":"0","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"32"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='https://git123hub.github.io/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
// ]]>
</script>
<script src="https://git123hub.github.io/static/retn/left.js"></script>
</body>
</html>
