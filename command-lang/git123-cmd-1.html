<!doctype html>
<html>
<head>
<base href="https://git123hub.github.io/command-lang/" />
<!-- JS 源码: https://git123hub.github.io/static/exec-expr.js -->
<script src="https://git123hub.github.io/static/exec-expr.min.js"></script>
<!-- JS 源码: https://git123hub.github.io/command-lang/git123-core.js -->
<script src="git123-core.min.js"></script>
<!-- JS 源码: https://raw.githubusercontent.com/mathiasbynens/esrever/master/esrever.js -->
<script src="esrever.js"></script>
<style>
	a {text-decoration: none;}
	#CInput, #COutput {width: 800px; height: 500px;}
	#CIText, #CDebug {width: 800px; height: 20px;}
	.o0{position:fixed;top:0;left:0}.o0,.o1{width:100%;height:100%}.o1{background-color:#000;opacity:.3;filter:Alpha(opacity=30)}
	.o2{width:350px;height:150px;position:absolute;top:-webkit-calc(50% - 75px);left:-webkit-calc(50% - 175px)}
	.o2c{width:350px;height:120px;position:absolute;top:-webkit-calc(50% - 60px);left:-webkit-calc(50% - 175px)}
	.o3{background:#9c6;width:100%}.o4{background:#c66;float:left}.o4,.o5{width:50%}.o5{background:#9c6;float:right}
	.o3,.o4,.o5,.o8{text-align:center;height:20px;line-height:20px;white-space:pre}.o6{height:-webkit-calc(100% - 40px);
	background:#deb;padding:8px;box-sizing:border-box;white-space:pre}.o6,.o7{width:100%}.o7{margin-top:8px;
	font-family:monospace}.o8{background:#9c6;width:100%}#_dialogs * {z-index: 2}.o9{width:100%;height:100%;position:fixed;
	top:0%;left:0%}.o9 *{z-index:1}.o9 #CInput{box-sizing:border-box;position:absolute;top:0;left:0;width:100%;height:70%}
	.kbd1,.kbd2{display:none;box-sizing:border-box}.o9>.kbd1{display:block;width:100%;height:-webkit-calc(30% - 20px);
	background:#CF7;bottom:20px;left:0;position:absolute;overflow-y:auto;text-align:left;padding:8px}.o9>.kbd2{
	bottom:0;left:0;position:absolute;line-height:20px;height:20px;width:100%;color:#fff;background:#c45;display:block;}
</style>
<title>git123hub command language (1)</title>
<meta charset="utf-8" />
</head>
<body>
	<pre>
* <a href="https://git123hub.github.io/index/">返回到首页</a>
* <a href="https://github.com/git123hub/git123hub.github.io/blob/master/command-lang/git123-help.md">查看帮助信息</a>
	</pre>
	<center style="margin-top: -55px;">
		<form>
			<div>
				代码区 (Code area)<br/>
				<div class="CInpbox1">
					<textarea id="CInput"></textarea>
					<div class="kbd1">
					</div>
					<div class="kbd2" onclick="cib1.classList.remove('o9');">退出全屏</div>
				</div>
			</div>
			<div style="padding-bottom: 3px;">
				<input type="button" value="程序初始化" onclick="ParseCode(stillRunning=false);" />
				<input disabled="disabled" id="rb1" type="button" value="单步执行并进入子函数" onclick="CommandStepInto();" />
				<input disabled="disabled" id="rb2" type="button" value="单步执行并越过子函数" onclick="CommandStepOver(stillRunning=true);" />
				<input disabled="disabled" id="rb3" type="button" value="执行" onclick="CommandRun(stillRunning=true);" />
				<input disabled="disabled" id="rb4" type="button" value="暂停" onclick="stillRunning=false;" />
			</div>
			<div style="padding-bottom: 3px;">
				<input type="button" value="&quot;~rtime&quot; 复位" onclick="firstTime=new Date();" />
				<input type="button" value="编辑区全屏" onclick="cib1.classList.add('o9');" />
			</div>
			<div style="padding-bottom: 3px;">
				输出区 (Output area)<br/>
				<pre id="COutput" style="border: 1px solid #555; padding: 2px; margin: 0; text-align: left; white-space: pre-wrap; word-break: break-all; overflow-y: scroll;"></pre>
			</div>
			<div>
				调试行 (Debug row)<br/>
				<div style="display: table;">
					<pre id="CDebug" style="border: 1px solid #555; padding: 2px; margin: 0; text-align: left; display: table-cell; vertical-align: middle"></pre>
				</div>
			</div>
		</form>
	</center>
	<div id="_dialogs"></div>
<script type="text/javascript">
// <![CDATA[
function $id (id) {
	return document.getElementById(id);
};
var lineNum, calls = [], callsp, compiled = [], hout = "", breakpoint, iscompiled = false, rframe, prevsp,
    significantLines = 0, st0, st0p, stepO1;
function ParseCode () {
	for (var i = 1; i <= 4; ++i) $id("rb" + i).disabled = false, ptitle = "来自程序的提示";
	iscompiled = true, elseCon = false, st1 = [], st1p = -1, flag = false;
	compiled = $id("CInput").value.split(/\r?\n|\r/), variableList = {}, hout = "", lineNum = 0;
	// 最近的行号和条件存储到堆栈中
	calls = [compiled.length, -1, false], callsp = 2, breakpoint = false, st0 = [], st0p = -1;
	for (var i = 0, len = compiled.length, cstr; i < len; i++) {
		cstr = compiled[i];
		cstr.charAt(0) === ":" && (variableList["tag_" + cstr.slice(1)] = i);
	}
	compiled[significantLines = len] = "terminate";
	$id("COutput").innerHTML = hout;
	$id("CDebug").innerHTML = "Line " + (lineNum + 1) + ": " + compiled[lineNum];
};
function CommandStepInto () {
	stepO1 = 0;
	if (!iscompiled) return;
	KernelStep(compiled[lineNum]);
	breakpoint = false;
	$id("COutput").innerHTML = hout;
	$id("CDebug").innerHTML = "Line " + (lineNum + 1) + ": " + compiled[lineNum];
};
function CommandStepOver () {
	prevsp = callsp; stepO1 = 1;
	CommandStepOverC();
};
function CommandRun () {
	if (!iscompiled || !stillRunning) return;
	stepO1 = 2;
	do {
		KernelStep(compiled[lineNum]);
	} while (!breakpoint);
	breakpoint = false;
	$id("COutput").innerHTML = hout;
	$id("CDebug").innerHTML = "Line " + (lineNum + 1) + ": " + compiled[lineNum];
	if (rframe) {
		requestAnimationFrame(CommandRun);
	}
};
var cib1 = document.getElementsByClassName("CInpbox1")[0];
// ]]>
</script>
<!-- JS 源码: https://git123hub.github.io/command-lang/dialogs.js -->
<script type="text/javascript" src="dialogs.min.js"></script>
<script type="text/javascript">window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"32"},"slide":{"type":"slide","bdImg":"0","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"32"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='https://git123hub.github.io/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</body>
</html>
